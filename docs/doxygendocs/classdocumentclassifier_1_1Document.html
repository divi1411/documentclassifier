<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DocumentClassifier: documentclassifier.Document Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacedocumentclassifier.html">documentclassifier</a>.<a class="el" href="classdocumentclassifier_1_1Document.html">Document</a></div>
<h1>documentclassifier.Document Class Reference</h1><!-- doxytag: class="documentclassifier::Document" -->
<p>
<a href="classdocumentclassifier_1_1Document-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#d3366b961a018d41c75c0c1409681c78">Document</a> (String <a class="el" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>, String <a class="el" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>, String initialCategory, String <a class="el" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#b0ace68f897d7967f6749387328cb368">Document</a> (String <a class="el" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>, String <a class="el" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>, String <a class="el" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#8c925e57594f3514beb008026aa6b2d2">Document</a> (String query)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Map&lt; String, Double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#4c3596f5b6e67e7e36d7341390f345ac">getHistogram</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Set&lt; String &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#6b7b197d104d51846e5db366640ae6a2">getCategories</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#2d66936707132dd1ddd9a9ba82173251">addCategory</a> (String category)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#7fc04df41f5aaf44cadc579f8c216a40">getPath</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#65e173ed014078689f27506c2c03dd54">getText</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#d672dd5adf6b90daf2037acbaea20e50">getTitle</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#ddb19fe6276b8b63413331865b0a1dd2">equals</a> (Object obj)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#4739e991b571946580429574c4181d91">hashCode</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Map&lt; String, Double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#693bbcfb89744dcce243b2123c5c6198">createHistogram</a> ()  throws Exception </td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">String&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Set&lt; String &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#5b4011a6559df6366e3fdab74d3e9092">categories</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Map&lt; String, Double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdocumentclassifier_1_1Document.html#13f8c20dfb731c20f21b5ad0bdd4de73">histogram</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class represents a document, and contains a title, a text, the list of categories it belongs to, the URL (local or remote) from where it is possible to retrieve the original, and the histogram of its terms.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Salvo Danilo Giuffrida (<a href="mailto:salvod.giuffrida@gmail.com">salvod.giuffrida@gmail.com</a>) </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00023">23</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d3366b961a018d41c75c0c1409681c78"></a><!-- doxytag: member="documentclassifier::Document::Document" ref="d3366b961a018d41c75c0c1409681c78" args="(String title, String text, String initialCategory, String path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">documentclassifier.Document.Document           </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>initialCategory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This constructor creates a new document with the title, text, initial category, and URL specified as input parameters. <p>
Later on, it will be possible to add more categories to it, using the method <a class="el" href="classdocumentclassifier_1_1Document.html#2d66936707132dd1ddd9a9ba82173251">addCategory</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>title</em>&nbsp;</td><td>The title of the document. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>The complete text of the document. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initialCategory</em>&nbsp;</td><td>One of the categories the document belongs to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The URL (local or remote) from where it is possible to read the original document file. </td></tr>
  </table>
</dl>

<p>
When the document is created, the histogram of its terms is generated, and this it will be be used by the current metric, to calculate the distance between this document and the query. In case the user decides to enable/disable stemming, and/or the removal of stopwords from the document, the entire training set is regenerated, because the histogram of each document must be recalculated, since terms that before were deleted during pre-processing (like stopwords), now should instead be taken into consideration, or, analogously, terms that before were stemmed to their common root, now must be considered as different. 
<p>Definition at line <a class="el" href="Document_8java-source.html#l00049">49</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00031">documentclassifier.Document.categories</a>, and <a class="el" href="Document_8java-source.html#l00106">documentclassifier.Document.createHistogram()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00049"></a>00049                                                                                     {
<a name="l00050"></a>00050         <span class="keywordflow">try</span> {
<a name="l00051"></a>00051             <span class="keyword">this</span>.title = <a class="code" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>;
<a name="l00052"></a>00052             <span class="keyword">this</span>.text = <a class="code" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>;
<a name="l00053"></a>00053             <span class="keyword">this</span>.categories=<span class="keyword">new</span> HashSet&lt;String&gt;();
<a name="l00054"></a>00054             <a class="code" href="classdocumentclassifier_1_1Document.html#5b4011a6559df6366e3fdab74d3e9092">categories</a>.add(initialCategory);
<a name="l00055"></a>00055             <span class="keyword">this</span>.path = <a class="code" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a>;
<a name="l00066"></a>00066             <span class="keyword">this</span>.histogram = <a class="code" href="classdocumentclassifier_1_1Document.html#693bbcfb89744dcce243b2123c5c6198">createHistogram</a>();
<a name="l00067"></a>00067         } <span class="keywordflow">catch</span> (Exception ex) {
<a name="l00068"></a>00068             DocumentClassifierView.showErrorMessage(ex.toString());
<a name="l00069"></a>00069         }
<a name="l00070"></a>00070     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classdocumentclassifier_1_1Document_d3366b961a018d41c75c0c1409681c78_cgraph.png" border="0" usemap="#classdocumentclassifier_1_1Document_d3366b961a018d41c75c0c1409681c78_cgraph_map" alt=""></center>
<map name="classdocumentclassifier_1_1Document_d3366b961a018d41c75c0c1409681c78_cgraph_map">
<area shape="rect" href="classdocumentclassifier_1_1Document.html#693bbcfb89744dcce243b2123c5c6198" title="documentclassifier.Document.createHistogram" alt="" coords="339,5,664,32"><area shape="rect" href="classdocumentclassifier_1_1DocumentClassifierApp.html#8e70afbf45782d7500d95425b4bf12fe" title="documentclassifier.DocumentClassifierApp.getStemmer" alt="" coords="712,5,1096,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b0ace68f897d7967f6749387328cb368"></a><!-- doxytag: member="documentclassifier::Document::Document" ref="b0ace68f897d7967f6749387328cb368" args="(String title, String text, String path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">documentclassifier.Document.Document           </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This constructor creates a new document without any category. It is used to create an instance of this class representing the current query document. whose category we don't know.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>title</em>&nbsp;</td><td>The document's title </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>The document's text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The URL (local or remote) from where it is possible to read the original document file </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00082">82</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00082"></a>00082                                                             {
<a name="l00083"></a>00083         <span class="keyword">this</span>(<a class="code" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>,<a class="code" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>,null,<a class="code" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a>);
<a name="l00084"></a>00084     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8c925e57594f3514beb008026aa6b2d2"></a><!-- doxytag: member="documentclassifier::Document::Document" ref="8c925e57594f3514beb008026aa6b2d2" args="(String query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">documentclassifier.Document.Document           </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This constructor creates a new document with only the title. It is used to create an instance representing a query, like in a search engine, from whom the most relevant documents respect to it must be retrieved.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>The query to send to the information retrieval system. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00093">93</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00093"></a>00093                                   {
<a name="l00094"></a>00094         <span class="keyword">this</span>(query,<span class="stringliteral">""</span>,null);
<a name="l00095"></a>00095     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="693bbcfb89744dcce243b2123c5c6198"></a><!-- doxytag: member="documentclassifier::Document::createHistogram" ref="693bbcfb89744dcce243b2123c5c6198" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String, Double&gt; documentclassifier.Document.createHistogram           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throws Exception <code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method creates the histogram of the document represented by this instance; if necessary the text is pre-processed (removing stopwords and stemming the remaining terms) before calculating the frequency of each one of its terms.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The histogram of the terms of the document, represented by a map that has keys (the terms) of type <a class="el" href="">String</a>, and values (their relative frequencies) of type <a class="el" href="">Double</a>. </dd></dl>

<p>
Even if the user has chosen (through the Preferences panel) not to apply stemming to document terms, it is necessary to create the classes that do it, otherwise the compiler will generate an error.<p>
I build the set of stopwords, by reading the appropriate file.<p>
If the user has chosen not to enable the removal of stopwords, no element is added to the set, which remains empty.<p>
Pre-processing of the text. The title and text of the document are represented as two strings, belonging to an array, such that I will be able to apply the same operations to both of them, but weighting the terms in a different way depending if they belong to the title or the text.<p>
If I'm reading the title of the document--&gt;Its terms have a double weight than the terms of the text, because they are more directly related to the argument and context of the document, than the terms of the text.<p>
Removal of stopwords (if enabled by the user) and of numbers (in any case). The word 'removal' is inappropriate, because what is really done is simply to not take into consideration a term if it is present in the stopwords list, or if it represents a number. In these two cases the term is not added to the map which represents the histogram of the document.<p>
Stemming of the current term: The stemmer creates a new term containing the root of the one given in input.<p>
The frequency of the current term (eventually stemmed to its root) is read from the document's histogram, and updated (depending on the weight assigned to the current term).<p>
The histogram has been completed--&gt;Now it is necessary to normalize its frequencies to the length of the document, making them relative.<p>
I make sure that, once created, the histogram of this document can't be modified anymore (accidentally or intentionally) by other classes that read it. 
<p>Definition at line <a class="el" href="Document_8java-source.html#l00106">106</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="DocumentClassifierApp_8java-source.html#l00581">documentclassifier.DocumentClassifierApp.getStemmer()</a>, <a class="el" href="DocumentClassifierApp_8java-source.html#l00082">documentclassifier.DocumentClassifierApp.isRemovalStopWords</a>, <a class="el" href="DocumentClassifierApp_8java-source.html#l00082">documentclassifier.DocumentClassifierApp.isStemming</a>, <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.text</a>, and <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.title</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00049">documentclassifier.Document.Document()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00106"></a>00106                                                                    {
<a name="l00107"></a>00107         
<a name="l00108"></a>00108         DocumentClassifierApp application=DocumentClassifierApp.getApplication();
<a name="l00109"></a>00109         <span class="keywordtype">boolean</span> isStemming=application.isStemming(<span class="keyword">false</span>);
<a name="l00110"></a>00110         <span class="keywordtype">boolean</span> isRemovalStopWords=application.isRemovalStopWords(<span class="keyword">false</span>);
<a name="l00111"></a>00111         
<a name="l00117"></a>00117         Class stemClass = Class.forName(application.getStemmer(<span class="keyword">false</span>));
<a name="l00118"></a>00118         SnowballProgram stemmer = (SnowballProgram) stemClass.newInstance();
<a name="l00119"></a>00119         @SuppressWarnings(<span class="stringliteral">"unchecked"</span>)
<a name="l00120"></a>00120         Method stemMethod = stemClass.getMethod("stem", new Class[0]);
<a name="l00121"></a>00121         
<a name="l00122"></a>00122         Object[] emptyArgs = new Object[0];
<a name="l00123"></a>00123         String specialCharacters = " \t\n\r\f,;.:!'\"()?[]=-<span class="stringliteral">@";
        
        Map&lt;String, Double&gt; documentHistogram = new HashMap&lt;String, Double&gt;();
        String currentToken;
        Double frequency;
        int weight;
        String row;
        </span>
<a name="l00127"></a>00127 <span class="stringliteral">        Set&lt;String&gt; stopWordsList = new HashSet&lt;String&gt;();
        BufferedReader stopWordsBR;
        File stopWordsListFile=new File(DocumentClassifierApp.getApplication().getStopWordsList(false));
        String[] fields;
        if(isRemovalStopWords) {</span>
<a name="l00132"></a>00132 <span class="stringliteral">            stopWordsBR = new BufferedReader(new FileReader(stopWordsListFile));
            while ((row = stopWordsBR.readLine()) != null) {
                if (!row.isEmpty()) {
                    fields = row.split("</span>|");
<a name="l00133"></a>00133                     if (!fields[0].startsWith(" ")) {
<a name="l00134"></a>00134                         stopWordsList.add(fields[0].trim());
<a name="l00135"></a>00135                     }
<a name="l00136"></a>00136                 }
<a name="l00137"></a>00137             }
<a name="l00138"></a>00138             stopWordsBR.close();
<a name="l00139"></a>00139         }
<a name="l00140"></a>00140         
<a name="l00147"></a>00147         String[] titleText = <span class="keyword">new</span> String[2];
<a name="l00148"></a>00148         titleText[0] = <a class="code" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>;
<a name="l00149"></a>00149         titleText[1] = <a class="code" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>;
<a name="l00150"></a>00150         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt;= 1; j++) {
<a name="l00151"></a>00151             <span class="keywordflow">if</span> (j == 0) {
<a name="l00157"></a>00157                 weight = 2;
<a name="l00158"></a>00158             } <span class="keywordflow">else</span> {
<a name="l00159"></a>00159                 weight = 1;
<a name="l00160"></a>00160             }
<a name="l00161"></a>00161             titleText[j] = titleText[j].toLowerCase();
<a name="l00162"></a>00162             StringTokenizer ST = <span class="keyword">new</span> StringTokenizer(titleText[j], specialCharacters);
<a name="l00163"></a>00163             <span class="keywordflow">while</span> (ST.hasMoreTokens()) {
<a name="l00164"></a>00164                 currentToken = ST.nextToken();
<a name="l00172"></a>00172                 <span class="keywordflow">if</span> (!stopWordsList.contains(currentToken) &amp;&amp; !currentToken.matches(<span class="stringliteral">"\\d+"</span>)) {
<a name="l00173"></a>00173                     
<a name="l00174"></a>00174                     <span class="keywordflow">if</span>(isStemming) {
<a name="l00179"></a>00179                         stemmer.setCurrent(currentToken);
<a name="l00180"></a>00180                         stemMethod.invoke(stemmer, emptyArgs);
<a name="l00181"></a>00181                         currentToken = stemmer.getCurrent();
<a name="l00182"></a>00182                     }
<a name="l00188"></a>00188                     frequency = documentHistogram.get(currentToken);
<a name="l00189"></a>00189                     <span class="keywordflow">if</span> (frequency == null) {
<a name="l00190"></a>00190                         frequency = 0.0;
<a name="l00191"></a>00191                     }
<a name="l00192"></a>00192                     documentHistogram.put(currentToken, frequency + weight);
<a name="l00193"></a>00193                 }
<a name="l00194"></a>00194             }
<a name="l00195"></a>00195         }
<a name="l00196"></a>00196         
<a name="l00201"></a>00201         <span class="keywordtype">double</span> normalizationFactor = 0;
<a name="l00202"></a>00202         <span class="keywordflow">for</span> (<span class="keywordtype">double</span> I : documentHistogram.values()) {
<a name="l00203"></a>00203             <span class="comment">//Calculation of the document's length after pre-processing</span>
<a name="l00204"></a>00204             normalizationFactor += I;
<a name="l00205"></a>00205         }
<a name="l00206"></a>00206         <span class="comment">//Normalization of frequencies (from absolute to relative)</span>
<a name="l00207"></a>00207         <span class="keywordflow">for</span> (String Token : documentHistogram.keySet()) {
<a name="l00208"></a>00208             documentHistogram.put(Token, documentHistogram.get(Token) / normalizationFactor);
<a name="l00209"></a>00209         }
<a name="l00214"></a>00214         <span class="keywordflow">return</span> Collections.unmodifiableMap(documentHistogram);
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216 </pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classdocumentclassifier_1_1Document_693bbcfb89744dcce243b2123c5c6198_cgraph.png" border="0" usemap="#classdocumentclassifier_1_1Document_693bbcfb89744dcce243b2123c5c6198_cgraph_map" alt=""></center>
<map name="classdocumentclassifier_1_1Document_693bbcfb89744dcce243b2123c5c6198_cgraph_map">
<area shape="rect" href="classdocumentclassifier_1_1DocumentClassifierApp.html#8e70afbf45782d7500d95425b4bf12fe" title="documentclassifier.DocumentClassifierApp.getStemmer" alt="" coords="379,5,763,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="4c3596f5b6e67e7e36d7341390f345ac"></a><!-- doxytag: member="documentclassifier::Document::getHistogram" ref="4c3596f5b6e67e7e36d7341390f345ac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String, Double&gt; documentclassifier.Document.getHistogram           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor method to read the document's histogram.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The document's histogram. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00236">236</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00036">documentclassifier.Document.histogram</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00236"></a>00236                                               {
<a name="l00237"></a>00237         <span class="keywordflow">return</span> <a class="code" href="classdocumentclassifier_1_1Document.html#13f8c20dfb731c20f21b5ad0bdd4de73">histogram</a>;
<a name="l00238"></a>00238     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6b7b197d104d51846e5db366640ae6a2"></a><!-- doxytag: member="documentclassifier::Document::getCategories" ref="6b7b197d104d51846e5db366640ae6a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Set&lt;String&gt; documentclassifier.Document.getCategories           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor method to read the set of categories this document belongs to.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Set with the names of categories this document belongs to. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00245">245</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00031">documentclassifier.Document.categories</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00245"></a>00245                                        {
<a name="l00246"></a>00246         <span class="keywordflow">return</span> <a class="code" href="classdocumentclassifier_1_1Document.html#5b4011a6559df6366e3fdab74d3e9092">categories</a>;
<a name="l00247"></a>00247     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2d66936707132dd1ddd9a9ba82173251"></a><!-- doxytag: member="documentclassifier::Document::addCategory" ref="2d66936707132dd1ddd9a9ba82173251" args="(String category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void documentclassifier.Document.addCategory           </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>category</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method adds the name of a category to the set.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>category</em>&nbsp;</td><td>The name of the category to add. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00254">254</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00031">documentclassifier.Document.categories</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00254"></a>00254                                              {
<a name="l00255"></a>00255         <a class="code" href="classdocumentclassifier_1_1Document.html#5b4011a6559df6366e3fdab74d3e9092">categories</a>.add(category);
<a name="l00256"></a>00256     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7fc04df41f5aaf44cadc579f8c216a40"></a><!-- doxytag: member="documentclassifier::Document::getPath" ref="7fc04df41f5aaf44cadc579f8c216a40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String documentclassifier.Document.getPath           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This accessor method returns the URL from where it is possible to get the original document (file PDF, HTML, ecc...) represented by this instance.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The URL (local or remote) from where it is possible to get the original document represented by this instance. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00265">265</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.path</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00265"></a>00265                             {
<a name="l00266"></a>00266         <span class="keywordflow">return</span> <a class="code" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">path</a>;
<a name="l00267"></a>00267     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="65e173ed014078689f27506c2c03dd54"></a><!-- doxytag: member="documentclassifier::Document::getText" ref="65e173ed014078689f27506c2c03dd54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String documentclassifier.Document.getText           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor method to read the text of the document represented by this instance.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The text of the document represented by this instance. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00274">274</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.text</a>.</p>

<p>Referenced by <a class="el" href="DocumentClassifierView_8java-source.html#l00853">documentclassifier.DocumentClassifierView.ReadInputDocumentTask.succeeded()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00274"></a>00274                             {
<a name="l00275"></a>00275         <span class="keywordflow">return</span> <a class="code" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a>;
<a name="l00276"></a>00276     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d672dd5adf6b90daf2037acbaea20e50"></a><!-- doxytag: member="documentclassifier::Document::getTitle" ref="d672dd5adf6b90daf2037acbaea20e50" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String documentclassifier.Document.getTitle           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor method to read the title of the document represented by this instance.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The title of the document represented by this instance. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00283">283</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.title</a>.</p>

<p>Referenced by <a class="el" href="DocumentClassifierView_8java-source.html#l00853">documentclassifier.DocumentClassifierView.ReadInputDocumentTask.succeeded()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00283"></a>00283                              {
<a name="l00284"></a>00284         <span class="keywordflow">return</span> <a class="code" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a>;
<a name="l00285"></a>00285     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ddb19fe6276b8b63413331865b0a1dd2"></a><!-- doxytag: member="documentclassifier::Document::equals" ref="ddb19fe6276b8b63413331865b0a1dd2" args="(Object obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean documentclassifier.Document.equals           </td>
          <td>(</td>
          <td class="paramtype">Object&nbsp;</td>
          <td class="paramname"> <em>obj</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Two documents are considered equals if they have both the same title and the same text.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A boolean value indicating if the document provided in input is equal to the one represented by this instance. </dd></dl>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00295">295</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>References <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.text</a>, and <a class="el" href="Document_8java-source.html#l00025">documentclassifier.Document.title</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00295"></a>00295                                       {
<a name="l00296"></a>00296         <span class="keywordflow">if</span> (obj == null) {
<a name="l00297"></a>00297             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00298"></a>00298         }
<a name="l00299"></a>00299         <span class="keywordflow">if</span> (getClass() != obj.getClass()) {
<a name="l00300"></a>00300             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302         <span class="keyword">final</span> <a class="code" href="classdocumentclassifier_1_1Document.html#d3366b961a018d41c75c0c1409681c78">Document</a> other = (<a class="code" href="classdocumentclassifier_1_1Document.html#d3366b961a018d41c75c0c1409681c78">Document</a>) obj;
<a name="l00303"></a>00303         <span class="keywordflow">if</span> (<span class="keyword">this</span>.<a class="code" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">title</a> != other.title &amp;&amp; (<span class="keyword">this</span>.title == null || !<span class="keyword">this</span>.title.equals(other.title))) {
<a name="l00304"></a>00304             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00305"></a>00305         }
<a name="l00306"></a>00306         <span class="keywordflow">if</span> (<span class="keyword">this</span>.<a class="code" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">text</a> != other.text &amp;&amp; (<span class="keyword">this</span>.text == null || !<span class="keyword">this</span>.text.equals(other.text))) {
<a name="l00307"></a>00307             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00308"></a>00308         }
<a name="l00309"></a>00309         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00310"></a>00310     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4739e991b571946580429574c4181d91"></a><!-- doxytag: member="documentclassifier::Document::hashCode" ref="4739e991b571946580429574c4181d91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int documentclassifier.Document.hashCode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00313">313</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00313"></a>00313                           {
<a name="l00314"></a>00314         <span class="keywordtype">int</span> hash = 3;
<a name="l00315"></a>00315         hash = 71 * hash + (<span class="keyword">this</span>.title != null ? <span class="keyword">this</span>.title.hashCode() : 0);
<a name="l00316"></a>00316         hash = 71 * hash + (<span class="keyword">this</span>.text != null ? <span class="keyword">this</span>.text.hashCode() : 0);
<a name="l00317"></a>00317         <span class="keywordflow">return</span> hash;
<a name="l00318"></a>00318     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="ac86d20c6077dcc0ff7587c1de887d48"></a><!-- doxytag: member="documentclassifier::Document::title" ref="ac86d20c6077dcc0ff7587c1de887d48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classdocumentclassifier_1_1Document.html#ac86d20c6077dcc0ff7587c1de887d48">documentclassifier.Document.title</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00025">25</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00106">documentclassifier.Document.createHistogram()</a>, <a class="el" href="Document_8java-source.html#l00295">documentclassifier.Document.equals()</a>, and <a class="el" href="Document_8java-source.html#l00283">documentclassifier.Document.getTitle()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8e6ccd9fa87b1498a75d131648ec9a7d"></a><!-- doxytag: member="documentclassifier::Document::text" ref="8e6ccd9fa87b1498a75d131648ec9a7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classdocumentclassifier_1_1Document.html#8e6ccd9fa87b1498a75d131648ec9a7d">documentclassifier.Document.text</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00025">25</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00106">documentclassifier.Document.createHistogram()</a>, <a class="el" href="Document_8java-source.html#l00295">documentclassifier.Document.equals()</a>, and <a class="el" href="Document_8java-source.html#l00274">documentclassifier.Document.getText()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a91645f7ebc764cfe9c56a87e8c5106b"></a><!-- doxytag: member="documentclassifier::Document::path" ref="a91645f7ebc764cfe9c56a87e8c5106b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classdocumentclassifier_1_1Document.html#a91645f7ebc764cfe9c56a87e8c5106b">documentclassifier.Document.path</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="Document_8java-source.html#l00025">25</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00265">documentclassifier.Document.getPath()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b4011a6559df6366e3fdab74d3e9092"></a><!-- doxytag: member="documentclassifier::Document::categories" ref="5b4011a6559df6366e3fdab74d3e9092" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Set&lt;String&gt; <a class="el" href="classdocumentclassifier_1_1Document.html#5b4011a6559df6366e3fdab74d3e9092">documentclassifier.Document.categories</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A document can also belong to more than one category, of copies of it are present in multiple subdirectories of the training set. To model this situation, the categories a document belongs to are represented as strings inside a set (class Set&lt;String&gt; of the Collections framework). 
<p>Definition at line <a class="el" href="Document_8java-source.html#l00031">31</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00254">documentclassifier.Document.addCategory()</a>, <a class="el" href="Document_8java-source.html#l00049">documentclassifier.Document.Document()</a>, and <a class="el" href="Document_8java-source.html#l00245">documentclassifier.Document.getCategories()</a>.</p>

</div>
</div><p>
<a class="anchor" name="13f8c20dfb731c20f21b5ad0bdd4de73"></a><!-- doxytag: member="documentclassifier::Document::histogram" ref="13f8c20dfb731c20f21b5ad0bdd4de73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String,Double&gt; <a class="el" href="classdocumentclassifier_1_1Document.html#13f8c20dfb731c20f21b5ad0bdd4de73">documentclassifier.Document.histogram</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The histogram of each document is represented as a map, having as keys the strings of its unique terms, and as values the relative frequency of each term inside the document. 
<p>Definition at line <a class="el" href="Document_8java-source.html#l00036">36</a> of file <a class="el" href="Document_8java-source.html">Document.java</a>.</p>

<p>Referenced by <a class="el" href="Document_8java-source.html#l00236">documentclassifier.Document.getHistogram()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>src/documentclassifier/<a class="el" href="Document_8java-source.html">Document.java</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 30 12:48:33 2008 for DocumentClassifier by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
